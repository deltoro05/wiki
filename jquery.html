<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>jQuery | hydrocul のメモ</title>
<link rel="stylesheet" href="https://raw.github.com/necolas/normalize.css/master/normalize.css" type="text/css" />
<link rel="stylesheet" href="./common/css/common.css" type="text/css" />
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
<style>
#content {
  margin: 0 40px 0 40px;
  word-wrap: break-word;
}
#content h1 {
  margin: 20px 0 20px 0;
  border-bottom: 2px #CCC solid;
  padding-bottom: 4px
}
#content h2 {
  margin: 20px 0 20px 0;
  border-bottom: 1px #CCC solid;
  padding-bottom: 2px
}
#content h3 {
  margin: 20px 0 20px 40px;
}
#content p,
#content ul,
#content dl {
  margin: 10px 0 10px 40px;
}
#content ul {
  padding-left: 2em
}
#content pre {
  margin: 10px 0 10px 60px;
  border: 1px #CCC solid;
  padding: 4px;
}
#content blockquote {
  margin: 10px 0 10px 60px;
  border-left: 2px #CCC solid;
  padding-left: 8px;
}
footer {
  margin-left: 40px;
  margin-right: 40px;
  border-top: 1px solid #888;
  padding-top: 10px;
  text-align: right;
  font-size: 80%;
}
</style>
<script type="text/javascript">

  if(location.host == 'hydrocul.github.com'){

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-5853773-6']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  }

</script>
</head>
<body>
<div id="content">
<h1 id="jquery">jQuery</h1>

<h2 id="jqueryhtml-20130403">jQueryオブジェクトからHTMLソースを取得するには [2013/04/03]</h2>

<p><code>$(...).html()</code> だとその要素の内側のHTMLを取得できる。
<code>$('&lt;img /&gt;').attr('src', src).html()</code> とやってもimgの内側にはなにもないので空の文字列が返ってきてしまう。</p>

<p>以下のように関数を定義しておいて、</p>

<pre><code>$.fn.outerHtml = function(){
    return $('&lt;div/&gt;').append(this.clone()).html();
}
</code></pre>

<p><code>$(...).outerHtml()</code> とするとその要素自体のHTMLを取得できる。</p>

<h2 id="cookie-20130404">Cookieを簡単に扱う方法 [2013/04/04]</h2>

<p>jquery.cookie.js<br />
<a href="https://github.com/carhartl/jquery-cookie" target="_blank">https://github.com/carhartl/jquery-cookie</a></p>

<h2 id="datepicker-20130327">datepicker [2013/03/27]</h2>

<p>datepicker<br />
<a href="http://api.jqueryui.com/datepicker/" target="_blank">http://api.jqueryui.com/datepicker/</a></p>

<h3 id="section">日付ごとに選択可能かどうかをカスタマイズするには</h3>

<pre><code>$('.calendar input[type=text]').datepicker({minDate: 1, beforeShowDay: function(date){
  return [(date.getDay() == 1), ""]; # 月曜日のみ選択可能
}});
</code></pre>

<h2 id="powertip-20130329">ツールチップ PowerTip [2013/03/29]</h2>

<p>[JS]後発だけに高性能で、実装はシンプルで超軽量のツールチップのスクリプト -jQuery PowerTip<br />
<a href="http://coliss.com/articles/build-websites/operation/javascript/jquery-plugin-powertip.html" target="_blank">http://coliss.com/articles/build-websites/operation/javascript/jquery-plugin-powertip.html</a></p>

<h3 id="data-powertip-">ツールチップを出したい要素に <code>data-powertip</code> 属性を指定するだけ</h3>

<pre><code>$(function(){
  $('*[data-powertip]').each(function(){
    var option_str = $(this).data('powertip-opt');
    var option = {};
    if(option_str != undefined){
      option = eval('option = {' + option_str + '};');
    }
    if(option['smartPlacement'] == undefined){
      option['smartPlacement'] = true;
    }
    $(this).powerTip(option);
  });
});

&lt;div data-powertip="ツールチップの内容" data-powertip-opt="placement:'w'"&gt;
</code></pre>

<p><code>data-power-opt</code> には要素個別にオプションを指定できる。</p>

<h2 id="cssjquery-20130405">CSSの半透明をjQueryで簡単に実現するには [2013/04/05]</h2>

<pre><code>/*
  $('...').opacity(0.5)
  で半透明にする。
  $('...').opacity(1)
  で不透過にする。
  $('...').opacity(0)
  で完全に透明にする。
*/
$.fn.opacity = function(value){
  var ie_value = Math.floor(value * 100);
  $(this).
    css('filter', 'alpha(opacity=' + ie_value + ')'). // for IE
    css('opacity', value);
}
</code></pre>

<h2 id="section-1">複数の要素を同時にアニメーションさせるには</h2>

<p><a href="http://www.srv-shinra.com/wordpress/?p=13" target="_blank">http://www.srv-shinra.com/wordpress/?p=13</a></p>

<p>オプションに <code>queue: false</code> を付けて、アニメーションさせたいコードを並べる。</p>

<pre><code>  $('...1').animate({scrollTop: 0},
                    {duration: 600, queue: false});
  $('...2').animate({scrollTop: 0},
                    {duration: 600, queue: false});
</code></pre>


</div>
<footer>
  <a href="./">目次</a>
  <!-- Copyright &copy; 2012- @hydrocul All Rights Reserved. -->
</footer>
</body>
</html>
