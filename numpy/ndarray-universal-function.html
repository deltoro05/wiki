<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>ndarrayのユニバーサル関数 | NumPy | hydroculのメモ</title>
<meta name="google-site-verification" content="uOXuLX4TAlCnMv26zOR30sGJVaZeWwaQLijOrxZiDyI" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<link rel="stylesheet" href="https://raw.github.com/necolas/normalize.css/master/normalize.css" type="text/css" />
<link rel="stylesheet" href="../common/css/page.css" type="text/css" />
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
<script src="https://rawgithub.com/adobe-webplatform/Snap.svg/master/dist/snap.svg-min.js"></script>
<script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="../common/js/page.js"></script>
</head>
<body class="res">

<div id="breadcrumb">
  <a href="../">hydroculのメモ</a> &gt; <a href="../numpy/">NumPy</a> &gt; <span>ndarrayのユニバーサル関数</span>
</div>

<div id="content">
  <h1 id="ndarray-universal-function">ndarrayのユニバーサル関数
<span class="article-date">2015/05/02</span></h1>

<p>ndarrayの要素ごとになにかを計算して結果を新しいndarrayにして返す関数をユニバーサル関数(universal function)という。他の言語でいう<a href="../programming_languages_diff/list/map.html">map関数</a>みたいなものを、
NumPyのndarrayに対して、三角関数とか、切り捨て処理とかの計算処理ごとに専用の関数にして高速化したもの。</p>

<p>関数の形をしていないが、<a href="ndarray-vector.html">ベクトル計算</a>といって、四則演算もndarrayに対してできる。</p>

<pre><code>ndarr1 = np.array([0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0])

print(ndarr1)
# 出力結果
# [ 0.   0.1  0.2  0.3  0.4  0.5  0.6  0.7  0.8  0.9  1. ]

print(np.sin(ndarr1))
# 出力結果
# [ 0.          0.09983342  0.19866933  0.29552021  0.38941834  0.47942554
#   0.56464247  0.64421769  0.71735609  0.78332691  0.84147098]

# ベクトル計算
print(ndarr1 * 3)
# 出力結果
# [ 0.   0.3  0.6  0.9  1.2  1.5  1.8  2.1  2.4  2.7  3. ]

print(np.floor(ndarr1 * 3))
# 出力結果
# [ 0.  0.  0.  0.  1.  1.  1.  2.  2.  2.  3.]
</code></pre>

<p>関連</p>

<ul>
  <li><a href="ndarray-vector.html">ndarrayでのベクトル計算</a></li>
  <li><a href="../programming_languages_diff/list/map.html">配列の要素1つずつに関数を適用して新しい配列を作るには (map)</a></li>
</ul>

<h2 id="c9d1d54">1つのndarrayを引数にとって、ndarrayを1つ返すユニバーサル関数
<span class="article-date">2015/05/20</span></h2>

<dl>
  <dt><code>sqrt</code></dt>
  <dd>平方根 \( \sqrt x \)<br />
<code>numpy.sqrt</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.sqrt.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.sqrt.html</a></dd>
  <dt><code>square</code></dt>
  <dd>2乗 \( x^2 \)
<code>numpy.square</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.square.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.square.html</a></dd>
  <dt><code>exp</code></dt>
  <dd>指数関数 \( e^x \)<br />
<code>numpy.exp</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.exp.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.exp.html</a></dd>
  <dt><code>exp2</code></dt>
  <dd>\( 2^x \)<br />
<code>numpy.exp2</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.exp2.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.exp2.html</a></dd>
  <dt><code>log</code></dt>
  <dd>対数関数 \( \log x \)<br />
<code>numpy.log</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.log.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.log.html</a></dd>
  <dt><code>log10</code></dt>
  <dd>10を底とする対数関数 \( \log_{10} x = \frac{\log x}{\log 10} \)<br />
<code>numpy.log10</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.log10.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.log10.html</a></dd>
  <dt><code>log2</code></dt>
  <dd>2を底とする対数関数 \( \log_2 x = \frac{\log x}{\log 2} \)<br />
<code>numpy.log2</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.log2.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.log2.html</a></dd>
  <dt><code>log1p</code></dt>
  <dd>\( \log(1 + x) \)<br />
<code>numpy.log1p</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.log1p.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.log1p.html</a></dd>
  <dt><code>cos</code></dt>
  <dd>三角関数の余弦 \( \cos x \)<br />
<code>numpy.cos</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.cos.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.cos.html</a></dd>
  <dt><code>sin</code></dt>
  <dd>三角関数の正弦 \( \sin x \)<br />
<code>numpy.sin</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.sin.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.sin.html</a></dd>
  <dt><code>tan</code></dt>
  <dd>三角関数の正接 \( \tan x \)<br />
<code>numpy.tan</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.tan.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.tan.html</a></dd>
  <dt><code>cosh</code></dt>
  <dd>双曲線関数の余弦 \( \cosh x \)<br />
<code>numpy.cosh</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.cosh.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.cosh.html</a></dd>
  <dt><code>sinh</code></dt>
  <dd>双曲線関数の正弦 \( \sinh x \)<br />
<code>numpy.sinh</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.sinh.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.sinh.html</a></dd>
  <dt><code>tanh</code></dt>
  <dd>双曲線関数の正接 \( \tanh x \)<br />
<code>numpy.tanh</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.tanh.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.tanh.html</a></dd>
  <dt><code>arccos</code></dt>
  <dd>逆三角関数の余弦 \( \cos^{-1} x \)<br />
<code>numpy.arccos</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.arccos.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.arccos.html</a></dd>
  <dt><code>arcsin</code></dt>
  <dd>逆三角関数の正弦 \( \sin^{-1} x \)<br />
<code>numpy.arcsin</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.arcsin.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.arcsin.html</a></dd>
  <dt><code>arctan</code></dt>
  <dd>逆三角関数の正接 \( \tan^{-1} x \)<br />
<code>numpy.arctan</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.arctan.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.arctan.html</a></dd>
  <dt><code>arccosh</code></dt>
  <dd>逆双曲線関数の余弦 \( \cosh^{-1} x \)<br />
<code>numpy.arccosh</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.arccosh.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.arccosh.html</a></dd>
  <dt><code>arcsinh</code></dt>
  <dd>逆双曲線関数の正弦 \( \sinh^{-1} x \)<br />
<code>numpy.arcsinh</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.arcsinh.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.arcsinh.html</a></dd>
  <dt><code>arctanh</code></dt>
  <dd>逆双曲線関数の正接 \( \tanh^{-1} x \)<br />
<code>numpy.arctanh</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.arctanh.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.arctanh.html</a></dd>
  <dt><code>fabs</code></dt>
  <dd>絶対値 \( |x| \)<br />
複素数のndarrayには対応していない。</dd>
  <dt><code>abs</code></dt>
  <dd>絶対値 \( |x| \)<br />
複素数のndarrayにも対応している。たぶん <code>absolute</code> と同じだとは思うけど。</dd>
  <dt><code>absolute</code></dt>
  <dd>絶対値 \( |x| \)<br />
複素数のndarrayにも対応している。たぶん <code>abs</code> と同じ。<br />
<code>numpy.absolute</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.absolute.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.absolute.html</a></dd>
  <dt><code>sign</code></dt>
  <dd>符号。正は <code>+1.0</code>, 負は <code>-1.0</code>, <code>0</code> は <code>0.0</code> を返す。結果は浮動小数点数のndarrayになる。<br />
<code>numpy.sign</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.sign.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.sign.html</a></dd>
  <dt><code>ceil</code></dt>
  <dd>切り上げ。負は<code>0</code>に近い方に丸められる。<br />
<code>numpy.ceil</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.ceil.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.ceil.html</a></dd>
  <dt><code>floor</code></dt>
  <dd>切り捨て。負は<code>0</code>から遠い方に丸められる。<br />
<code>numpy.floor</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.floor.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.floor.html</a></dd>
  <dt><code>rint</code></dt>
  <dd>近い整数にに丸める。2つの整数のちょうど中間の場合は偶数に方に丸める。例: <code>1.5</code> -&gt; <code>2.0</code>, <code>2.5</code> -&gt; <code>2.0</code>, <code>3.5</code> -&gt; <code>4.0</code><br />
<code>numpy.rint</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.rint.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.rint.html</a></dd>
  <dt><code>isnan</code></dt>
  <dd><code>NaN</code> かどうかを判定して論理値のndarrayを返す<br />
<code>numpy.isnan</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.isnan.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.isnan.html</a></dd>
  <dt><code>isfinite</code></dt>
  <dd>有限(<code>inf</code>でも<code>NaN</code>でもない)かどうかを判定して論理値のndarrayを返す<br />
<code>numpy.isfinite</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.isfinite.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.isfinite.html</a></dd>
  <dt><code>isinf</code></dt>
  <dd>無限(<code>inf</code>)かどうかを判定して論理値のndarrayを返す<br />
<code>numpy.isinf</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.isinf.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.isinf.html</a></dd>
</dl>

<h3 id="813f83c">論理演算子と同等のもの
<span class="article-date">2015/05/20</span></h3>

<dl>
  <dt><code>logical_not</code></dt>
  <dd>論理値のndarrayを引数にとって、要素ごとに否定した論理値のndarrayを返す<br />
<code>numpy.logical_not</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.logical_not.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.logical_not.html</a></dd>
</dl>

<h2 id="9327b70">1つのndarrayを引数にとって、ndarrayを2つタプルで返すユニバーサル関数
<span class="article-date">2015/05/21</span></h2>

<dl>
  <dt><code>modf</code></dt>
  <dd>小数部分と整数部分を2つのndarrayにわけてタプルで返す。返り値の2つのndarrayを足すともとのndarrayに戻る。整数部分は<code>0</code>に近い方に丸めた数になる。<br />
<code>numpy.modf</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.modf.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.modf.html</a></dd>
</dl>

<h2 id="6ae183f">2つのndarrayを引数にとって、ndarrayを1つ返すユニバーサル関数
<span class="article-date">2015/05/21</span></h2>

<dl>
  <dt><code>add</code></dt>
  <dd>加算(和) \( x + y \)<br />
<code>numpy.add</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.add.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.add.html</a></dd>
  <dt><code>subtract</code></dt>
  <dd>減算(差) \( x - y \)<br />
<code>numpy.subtract</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.subtract.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.subtract.html</a></dd>
  <dt><code>multiply</code></dt>
  <dd>乗算(積) \( x y \)<br />
<code>numpy.multiply</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.multiply.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.multiply.html</a></dd>
  <dt><code>divide</code></dt>
  <dd>除算(商) \( \frac{x}{y} \)<br />
<code>numpy.divide</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.divide.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.divide.html</a></dd>
  <dt><code>floor_divide</code></dt>
  <dd>除算(商) \( \frac{x}{y} \)<br />
整数に切り捨てられる。ただし要素の型は浮動小数点数のまま。結果が負の場合は絶対値の大きい方に丸められる<br />
<code>numpy.floor_divide</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.floor_divide.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.floor_divide.html</a></dd>
  <dt><code>mod</code></dt>
  <dd>剰余<br />
<code>numpy.mod</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.mod.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.mod.html</a></dd>
  <dt><code>power</code></dt>
  <dd>べき乗 \( x^y \)</dd>
  <dt><code>maximum</code></dt>
  <dd>2つの要素を比較して大きい方を抽出。片方または両方が<code>NaN</code>の場合は<code>NaN</code>になる。</dd>
  <dt><code>fmax</code></dt>
  <dd>2つの要素を比較して大きい方を抽出。片方が<code>NaN</code>の場合は他方の値になる。</dd>
  <dt><code>minimum</code></dt>
  <dd>2つの要素を比較して小さい方を抽出。片方または両方が<code>NaN</code>の場合は<code>NaN</code>になる。</dd>
  <dt><code>fmin</code></dt>
  <dd>2つの要素を比較して小さい方を抽出。片方が<code>NaN</code>の場合は他方の値になる。</dd>
  <dt><code>copysign</code></dt>
  <dd>1つ目の配列の要素の符号を2つ目の配列の要素の符号にした配列にする<br />
<code>numpy.copysign</code> | NumPy v1.9 Manual<br />
<a href="http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.copysign.html" target="_blank" class="external-link">http://docs.scipy.org/doc/numpy-1.9.1/reference/generated/numpy.copysign.html</a></dd>
</dl>

<h3 id="0dc7421">数値を比較して真偽値を返すもの
<span class="article-date">2015/05/20</span></h3>

<dl>
  <dt><code>greater</code></dt>
  <dd><code>&gt;</code></dd>
  <dt><code>greater_equal</code></dt>
  <dd><code>&gt;=</code></dd>
  <dt><code>less</code></dt>
  <dd><code>&lt;</code></dd>
  <dt><code>less_equal</code></dt>
  <dd><code>&lt;=</code></dd>
  <dt><code>equal</code></dt>
  <dd><code>==</code></dd>
  <dt><code>not_equal</code></dt>
  <dd><code>==</code></dd>
</dl>

<h3 id="07b4436">論理演算子と同等のもの
<span class="article-date">2015/05/20</span></h3>

<dl>
  <dt><code>logical_and</code></dt>
  <dd>論理積 <code>&amp;</code></dd>
  <dt><code>logical_or</code></dt>
  <dd>論理和 <code>|</code></dd>
  <dt><code>logical_xor</code></dt>
  <dd>排他的論理和 <code>^</code></dd>
</dl>

</div>

<div id="side-menu">
  <div id="side-menu-attention">
    このサイトは筆者(hydrocul)の個人メモの集合です。すべてのページは永遠に未完成です。
  </div>
  <div id="side-menu-ls">
    <ul>
  <li><a href="../numpy/">NumPy</a>
    <ul>
      <li><a href="../numpy/install.html">インストール</a></li>
      <li><a href="../numpy/ndarray-create.html">多次元配列ndarrayの生成</a></li>
      <li><a href="../numpy/ndarray-property.html">ndarrayの属性</a></li>
      <li><a href="../numpy/ndarray-element-type.html">ndarrayの要素のデータ型</a></li>
      <li><a href="../numpy/ndarray-copy.html">ndarrayのコピー</a></li>
      <li><a href="../numpy/ndarray-convert.html">ndarrayのデータ型の変換</a></li>
      <li><a href="../numpy/ndarray-vector.html">ndarrayでのベクトル計算</a></li>
      <li><a href="../numpy/ndarray-ref-index.html">ndarrayのインデックスでの参照と代入</a></li>
      <li><a href="../numpy/ndarray-ref-fancy.html">ndarrayのファンシーインデックス参照と代入</a></li>
      <li><a href="../numpy/ndarray-ref-boolean.html">ndarrayのブールインデックス参照</a></li>
      <li><a href="../numpy/ndarray-ref-slice.html">ndarrayのスライス表記の参照と代入</a></li>
      <li><a href="../numpy/ndarray-ref-combination.html">ndarrayの多次元インデックス・ファンシーインデックス・スライシングの組み合わせ</a></li>
      <li>ndarrayのユニバーサル関数</li>
      <li><a href="../numpy/ndarray-transposed.html">ndarrayでの転置行列</a></li>
      <li><a href="../numpy/howto.html">HOWTO</a></li>
    </ul>
  </li>
</ul>

  </div>
</div>

<footer>
  <a href="../">HOME</a>
  <a href="../policy.html">Privacy Policy</a>
  Copyright &copy; 2012- @hydrocul All Rights Reserved.
</footer>

</body>
</html>
